创界魔方 - 游戏监控系统
项目概述
创界魔方是一个多游戏实时监控系统，用于监控和管理多种热门游戏的运行状态。该系统通过DLL注入和进程监控技术，实现对游戏进程的实时跟踪和数据采集。
功能特性
支持的游戏监控
•	英雄联盟 (League of Legends) - 监控客户端和游戏进程
•	绝地求生 (PUBG) - 实时进程监控
•	永劫无间 (Naraka) - 状态循环监控
•	无畏契约 (Valorant) - 游戏状态监控
•	CS2 - Counter-Strike 2 监控
核心功能
•	多线程并发监控
•	实时进程状态检测
•	动态开关控制
•	日志记录和调试支持
•	HTTP API通信
•	远程配置管理
系统架构
主要组件
1.	monitor.cpp - 主监控程序入口
2.	游戏专用监控模块 - 针对不同游戏的监控实现
3.	线程管理器 - 多线程协调和资源管理
4.	网络通信层 - 与服务器的HTTP通信
5.	日志系统 - 多级别日志记录
技术栈
•	C++17 标准
•	Windows API
•	多线程编程
•	JSON数据处理
•	HTTP客户端通信
安装和部署
编译要求
•	Visual Studio 2019 或更高版本
•	Windows 10 SDK
•	CMake 3.15+
•	Boost库
•	nlohmann/json库
构建步骤
 
使用说明
启动监控
 
停止监控
 
配置管理
系统通过远程API获取游戏配置：
•	/api/client/GetGameConfig - 获取游戏开关状态
•	动态控制各游戏监控模块的启停
线程管理
监控线程
•	Delta线程 - 处理增量更新
•	PUBG监控线程 - 绝地求生进程监控
•	永劫无间线程 - Naraka游戏状态监控
•	无畏契约线程 - Valorant状态监控
•	CS2监控线程 - Counter-Strike 2监控
•	英雄联盟线程 - League of Legends监控
线程安全
•	使用 std::atomic 确保线程间通信安全
•	全局退出标志 g_shouldExit 控制所有线程退出
•	线程容器 g_monitorThreads 管理所有监控线程
API接口
导出函数
•	monitorLOL() - 启动主监控程序
•	monitorLOL1(int index) - 启动带环境配置的监控
•	exitMonitor() - 停止所有监控实例
内部函数
•	checkSwitch(std - 检查游戏开关状态
•	main() - 程序主入口点
日志系统
日志级别
•	DEBUG - 调试信息
•	INFO - 一般信息
•	ERROR - 错误信息
•	IMMEDIATE - 立即输出信息
日志文件
•	monitorDLL.log - 主日志文件
•	自动轮转和清理机制
注意事项
资源管理
•	确保调用 exitMonitor() 正确释放所有资源
•	避免频繁的DLL加载/卸载操作
•	监控线程需要正确响应退出信号
安全考虑
•	使用调试权限提升
•	进程注入需要管理员权限
•	网络通信包含安全验证
故障排除
常见问题
1.	DLL无法卸载 - 确保所有线程正确退出
2.	监控失效 - 检查游戏开关配置
3.	日志不输出 - 验证日志级别设置
调试支持
•	使用 _CrtSetReportMode 重定向调试输出
•	详细的异常堆栈跟踪
•	实时日志监控
维护和扩展
添加新游戏监控
1.	创建新的监控类继承基础监控接口
2.	在 main() 函数中添加新的监控线程
3.	实现相应的监控循环逻辑
4.	确保支持全局退出机制
配置更新
•	支持运行时动态配置更新
•	通过远程API控制监控开关
•	配置缓存和错误处理机制
